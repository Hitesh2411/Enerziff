<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Inter"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: 'Inter';
        font-size: 15px;
      }
      .svgContainer {
        background-color: #86f0d3;
      }
      .image {
        width: 400px;
        height: 160px;
      }
      
    </style>
    {% load static %}
    <link rel="shortcut icon" type="image" href="{% static 'favicon.png' %}" />
    <title>Login</title>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-12 d-sm-none">
          <div class="mt-4 mb-3 logo-container">
            {% load static %}
            <img class="image w-50 h-50" src="{% static 'logo.png' %}" />
          </div>
        </div>
      </div>
      <div class="row">
        <div
          class="col-6 d-none svgContainer d-sm-flex justify-content-center align-items-center flex-column"
        >
          <h1 class="fw-bolder mb-4" style="color: black">
            Smart Meter Inventory System
          </h1>
          <div class="mt-4 mb-3 logo-container">
            {% load static %}
            <img class="image align-self-start" src="{% static 'logo.png' %}" />
          </div>
          <!--<svg
            width="300"
            height="300"
            viewBox="0 0 800 800"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M120 786.666V690.666C120 623.999 173.334 570.666 240 570.666V466.665C114.667 466.665 13.3326 565.331 13.3326 690.666V786.666H120Z"
              fill="#FFDD09"
            />
            <path
              d="M240 470.667V466.667C114.667 466.667 13.3326 565.333 13.3326 690.667V786.667H53.3321V690.666C53.3337 578.666 134.667 489.332 240 470.667Z"
              fill="#FFDD09"
            />
            <path
              d="M746.666 573.333H786.666V466.665H746.666V573.333Z"
              fill="#FD9808"
            />
            <path
              d="M573.333 573.333H746.666V466.665H573.333V573.333Z"
              fill="#FFDD09"
            />
            <path
              d="M240 626.666H613.332V413.333H240V626.666Z"
              fill="#FFDD09"
            />
            <path d="M320 560H493.334V480H320V560Z" fill="#54C9FD" />
            <path d="M493.332 560H533.332V480H493.332V560Z" fill="#33A9F8" />
            <path
              d="M426.666 333.333C407.999 333.333 390.667 329.333 373.332 324V413.333H480V324C464 329.333 445.333 333.333 426.666 333.333Z"
              fill="#FFDD09"
            />
            <path
              d="M586.665 173.334C586.665 261.334 514.665 333.333 426.666 333.333C338.667 333.333 266.667 261.332 266.667 173.334C266.667 85.3348 338.666 13.3326 426.666 13.3326C514.666 13.3326 586.665 85.3332 586.665 173.334Z"
              fill="#FFDD09"
            />
            <path
              d="M426.666 13.3326C419.999 13.3326 413.333 13.3326 406.666 14.6654C485.332 23.9981 546.666 91.9987 546.666 173.332C546.666 254.665 485.332 322.666 406.666 331.999C413.333 333.331 419.999 333.331 426.666 333.331C514.666 333.331 586.665 261.331 586.665 173.332C586.665 85.3332 514.666 13.3326 426.666 13.3326Z"
              fill="#FD9808"
            />
            <path
              d="M426.666 333.333C460 333.333 492 322.666 517.332 305.333C498.665 274.667 465.333 253.334 426.666 253.334C387.999 253.334 354.665 273.334 336 305.333C361.333 322.666 393.334 333.333 426.666 333.333Z"
              fill="#FD9808"
            />
            <path
              d="M613.332 639.999H240C232 639.999 226.667 634.666 226.667 626.666V413.333C226.667 405.334 232 400.001 240 400.001H613.332C621.332 400.001 626.665 405.334 626.665 413.333V626.666C626.666 634.666 621.332 639.999 613.332 639.999ZM253.332 613.332H599.998V426.666H253.332V613.332Z"
              fill="black"
            />
            <path
              d="M786.666 586.665H613.332C605.332 586.665 600 581.333 600 573.333V466.665C600 458.666 605.332 453.333 613.332 453.333H786.666C794.666 453.333 799.998 458.666 799.998 466.665V573.333C800 581.333 794.666 586.665 786.666 586.665ZM626.666 560H773.333V480H626.666V560Z"
              fill="black"
            />
            <path
              d="M120 800H13.3326C5.33273 800 0 794.667 0 786.667V690.666C0 559.999 108 453.333 240 453.333C248 453.333 253.332 458.666 253.332 466.665V570.666C253.332 578.666 248 583.998 240 583.998C181.333 583.998 133.333 631.998 133.333 690.666V786.666C133.333 794.666 128 800 120 800ZM26.6668 773.333H106.667V690.666C106.667 621.332 160.001 565.333 226.667 557.333V480C114.667 486.667 26.6668 578.666 26.6668 689.333V773.333Z"
              fill="black"
            />
            <path
              d="M533.333 573.333H320C312 573.333 306.668 568 306.668 560V480C306.668 472 312 466.667 320 466.667H533.333C541.333 466.667 546.666 472 546.666 480V560C546.666 568 541.333 573.333 533.333 573.333ZM333.333 546.666H519.999V493.332H333.333V546.666Z"
              fill="black"
            />
            <path
              d="M426.666 346.666C330.666 346.666 253.333 269.332 253.333 173.332C253.333 77.3317 330.666 0 426.666 0C522.666 0 600 77.3333 600 173.334C600 269.334 522.666 346.666 426.666 346.666ZM426.666 26.6668C346.666 26.6668 279.999 92.0003 279.999 173.334C279.999 254.667 346.666 320 426.666 320C506.667 320 573.333 254.667 573.333 173.334C573.333 92.0003 507.999 26.6668 426.666 26.6668Z"
              fill="black"
            />
            <path
              d="M480 426.666H373.332C365.332 426.666 360 421.333 360 413.333V324C360 320 362.667 316 365.332 313.333C369.332 310.666 373.332 310.666 377.332 312C409.332 322.667 442.666 322.667 474.665 312C478.665 310.668 482.665 310.668 486.665 313.333C490.665 315.999 491.998 320 491.998 324V413.333C493.332 421.333 488 426.666 480 426.666ZM386.667 399.999H466.667V341.333C440 348 413.333 348 386.667 341.333V399.999Z"
              fill="black"
            />
            <path
              d="M426.666 346.666C390.667 346.666 357.333 335.999 328 315.999C322.667 311.999 320 303.999 324 298.666C346.667 261.332 385.334 240 426.668 240C469.334 240 506.668 261.334 529.335 297.333C533.335 304.001 532.002 310.666 525.335 314.666C495.999 336 462.666 346.666 426.666 346.666ZM354.667 301.333C398.666 326.667 454.667 326.667 498.667 301.333C481.332 278.667 454.667 266.667 426.666 266.667C398.665 266.667 372 278.667 354.667 301.333Z"
              fill="black"
            />
            <path
              d="M333.333 173.334C333.333 181.333 328 186.666 320 186.666C312 186.666 306.668 181.333 306.668 173.334C306.668 165.334 312 160.001 320 160.001C328 160.001 333.333 166.666 333.333 173.334Z"
              fill="black"
            />
            <path
              d="M546.666 173.334C546.666 181.333 541.333 186.666 533.333 186.666C525.333 186.666 520.001 181.333 520.001 173.334C520.001 165.334 525.333 160.001 533.333 160.001C541.333 159.999 546.666 166.666 546.666 173.334Z"
              fill="black"
            />
            <path
              d="M360 106.667C360 114.667 354.667 120 346.667 120C338.667 120 333.335 114.667 333.335 106.667C333.335 98.6674 338.667 93.3347 346.667 93.3347C354.667 93.3347 360 100 360 106.667Z"
              fill="black"
            />
            <path
              d="M413.333 66.6663C413.333 74.6662 408.001 79.9989 400.001 79.9989C392.001 79.9989 386.668 74.6662 386.668 66.6663C386.668 58.6664 392.001 53.3336 400.001 53.3336C407.999 53.3336 413.333 59.9992 413.333 66.6663Z"
              fill="black"
            />
            <path
              d="M519.999 106.667C519.999 114.667 514.666 120 506.667 120C498.667 120 493.334 114.667 493.334 106.667C493.334 98.6674 498.667 93.3347 506.667 93.3347C514.666 93.3347 519.999 100 519.999 106.667Z"
              fill="black"
            />
            <path
              d="M426.666 213.333C422.666 213.333 418.666 212 415.999 208L370.665 154.667C365.333 149.334 366.665 140 371.998 136C377.331 130.667 386.665 132 390.665 137.333L434.664 190.666C439.997 195.999 438.664 205.333 433.332 209.333C433.333 212 429.333 213.333 426.666 213.333Z"
              fill="black"
            />
          </svg>-->
        </div>
        <div
          class="col-sm-4 col-12 vh-100 mt-5 mt-sm-0 loginContainer d-sm-flex justify-content-between justify-content-sm-center align-items-center flex-column"
        >
          <!--<div class="mt-4 mb-3 logo-container">
            {% load static %}
            <img class="image align-self-start" src="{% static 'logo.png' %}" />
          </div>-->
          <div class="loginBlock">
            <div class="title mb-4">
              <h1 class="fs-1 fw-semibold">Login</h1>
            </div>
            <div class="formSection">
                <form action="{% url 'forgotPassword'%}" method="post">
                    {% csrf_token %}
                    <label class="mb-1 fw-semibold">Name</label><br>
                    <input 
                      type="text"
                      name="name"
                      value="{{username}}"
                      placeholder="Enter Name"
                      class="py-1 pe-5 ps-2 border rounded-3"
                      required
                      pattern="[a-zA-z0-9]+"
                      title="don't enter any special characters"
                      />
                      <input type="submit" class="btn-success border border-light px-3 rounded-3 py-1"
                      value="Submit"/>
                  </form>
                  <form action="{% url 'validatePassword'%}" method="post" style="margin-top: 15px;">
                    {% csrf_token %}
                    <label class="mb-1 fw-semibold">Enter OTP</label><br><br>
                    <input 
                      type="number"
                      name="otpnumber"
                      value="{{otp}}"
                      placeholder="Enter otp"
                      class="py-1 pe-5 ps-2 border rounded-3"
                      required
                      minlength="6"
                      maxlength="6"
                      pattern="[0-9]+"
                      title="Invalid OTP"
                      /><br><br>
                      <label class="mb-1 fw-semibold">New Password</label><br><br>
                      <input 
                      type="text"
                      name="password"
                      placeholder="New Password"
                      value="{{password}}"
                      class="py-1 pe-5 ps-2 border rounded-3"
                      required
                      minlength="8"
                      maxlength="15"
                      pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,15}" 
                  title="Password must be 8-15 characters long and include at least one lowercase letter, one uppercase letter, one digit, and one special character"
                      /><br><br>
                      <label class="mb-1 fw-semibold">Confirm Password</label><br><br>
                      <input 
                      type="text"
                      name="confirmpassword"
                      placeholder="Confirm Password"
                      value="{{confirmpassword}}"
                      class="py-1 pe-5 ps-2 border rounded-3"
                      required
                      minlength="8"
                      maxlength="15"
                      pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,15}" 
                      title="Password must be 8-15 characters long and include at least one lowercase letter, one uppercase letter, one digit, and one special character"
                      /><br><br>
                      <input type="submit" class="btn-success border border-light px-3 rounded-3 py-1"
                      value="Submit"/>
                  </form>
                  <div class="status" style="margin-top: 20px;">
                    <p style="font-size: 15px;font-weight: bold;color: black;" >{{status}}</p>
                  </div>
              <!-- <form method="post" action="{%url 'login' %}">
                {% csrf_token %}
                <label class="mb-1 fw-semibold">Name</label>
                <br />
                <input
                  type="text"
                  name="name"
                  placeholder="Enter name"
                  class="py-1 pe-5 ps-2 border rounded-3"
                  required
                /><br /><br />
                <label class="mb-1 fw-semibold">Password</label>
                <br />
                <input
                  type="password"
                  name="password"
                  placeholder="Enter name"
                  class="py-1 pe-5 ps-2 border rounded-3"
                  required
                /><br /><br />
                <input
                  class="btn-success border border-light px-3 rounded-3 py-1"
                  type="submit"
                />
              </form> -->
              <p class="mt-2" style="color: red">{{wrong}}</p>
            </div>
            <div class="regCont d-flex flex-wrap mt-3">
              <p>Don't have an account?</p>
              <a class="ms-1" href="{%url 'reg'%}">Register</a>
              <p class="ms-2">or</p>
              <a class="ms-2" href="{%url 'adminLogin'%}">Login as Admin</a><br><br>
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
